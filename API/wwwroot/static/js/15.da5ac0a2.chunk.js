"use strict";(self.webpackChunkoh_food=self.webpackChunkoh_food||[]).push([[15],{18009:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(1413),o=n(72791),r=n(5849),l=n(5574),a=n(77386),s=n(4899),c=n(31701),d=n(65661),u=n(55931),f=n(80184),h=o.forwardRef((function(e,t){return(0,f.jsx)(u.Z,(0,i.Z)({direction:"up",ref:t},e))}));function x(e){var t=e.open,n=e.title,i=e.body,o=e.okText,u=void 0===o?"Ok":o,x=e.cancelText,p=void 0===x?"Cancel":x,Z=e.onClose;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(l.Z,{open:t,TransitionComponent:h,keepMounted:!0,onClose:Z,"aria-describedby":"alert-dialog-slide-description",children:[(0,f.jsx)(d.Z,{children:n}),(0,f.jsx)(s.Z,{children:(0,f.jsx)(c.Z,{id:"alert-dialog-slide-description",children:i})}),(0,f.jsxs)(a.Z,{children:[(0,f.jsx)(r.Z,{size:"small",variant:"outlined",onClick:function(){return Z(!1)},children:p}),(0,f.jsx)(r.Z,{size:"small",variant:"contained",onClick:function(){return Z(!0)},children:u})]})]})})}},44118:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var i=n(1413),o=n(29439),r=n(94446),l=n(68870),a=n(4567),s=n(10266),c=n(53767),d=n(5849),u=n(81153),f=n(4841),h=n(90977),x=n(94721),p=n(68586),Z=n(18060),m=n(60627),v=n(72791),g=n(30260),j=n(18009),y=n(27957),C=n(96739),b=n(43504),A=n(80184),k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:900,minWidth:300,bgcolor:"background.paper",borderRadius:3,boxShadow:24,py:2,overflow:"auto",maxHeight:"90vh"};function S(){var e=(0,v.useState)([]),t=(0,o.Z)(e,2),n=t[0],S=t[1],M=(0,v.useState)(!1),w=(0,o.Z)(M,2),z=(w[0],w[1]),D=(0,v.useState)(!1),L=(0,o.Z)(D,2),P=L[0],R=L[1],I=(0,v.useState)({addressForm:!1,deleteDialog:!1}),N=(0,o.Z)(I,2),H=N[0],W=N[1],T=(0,v.useState)(null),E=(0,o.Z)(T,2),F=E[0],O=E[1];(0,v.useEffect)((function(){return z(!0),g.Z.Profile.fetchAddresses().then((function(e){S(e)})).catch((function(e){return console.log(e)})).finally((function(){return z(!1)})),function(){return S([])}}),[]);var B=function(e){return W((0,i.Z)((0,i.Z)({},H),{},{addressForm:e}))},V=function(e){return W((0,i.Z)((0,i.Z)({},H),{},{deleteDialog:e}))};var _=function(e){R(!0),g.Z.Profile.deleteAddress(e).then((function(t){S(n.filter((function(t){return t.id!==e})))})).catch((function(e){return console.log(e)})).finally((function(){O(null),R(!1)}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.Z,{sx:{pt:{xs:0,md:"60px"},pb:{md:0,xs:"60px"},height:"100%",width:"100%",minHeight:"100Vh"},children:(0,A.jsxs)(s.Z,{sx:{height:"100%"},children:[(0,A.jsxs)(c.Z,{direction:"row",sx:{width:"100%",py:5},alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(a.Z,{variant:"h5",component:"h1",children:" Delivery Addresses"}),(0,A.jsx)(d.Z,{size:"small",variant:"text",color:"inherit",component:b.rU,to:"/profile",children:"Back to Profile"})]}),(0,A.jsxs)(u.ZP,{container:!0,spacing:3,children:[n.map((function(e){var t;return(0,A.jsx)(u.ZP,{item:!0,xs:12,md:4,children:(0,A.jsxs)(f.Z,{sx:{p:3,pb:1,borderRadius:4,position:"relative",height:"100%"},children:[(0,A.jsx)(h.Z,{size:"small",disabled:e.isDefault,sx:{position:"absolute",top:0,right:0,m:1},onClick:function(){O(e),V(!0)},children:(0,A.jsx)(C.Z,{})}),(0,A.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},children:[(0,A.jsxs)(a.Z,{gutterBottom:!0,sx:{flex:"0 1 auto",textTransform:"uppercase"},variant:"caption",children:[e.title," ",e.isDefault&&"(Default)"]}),(0,A.jsx)(a.Z,{sx:{flex:"0 1 auto"},variant:"body2",children:e.fullName}),(0,A.jsx)(a.Z,{sx:{flex:"1 1 auto"},variant:"subtitle1",children:e.address1}),(0,A.jsx)(a.Z,{sx:{flex:"0 1 auto"},variant:"body2",children:null!==(t=e.town)&&void 0!==t?t:e.suburb}),(0,A.jsx)(x.Z,{flexItem:!0,sx:{my:1}}),(0,A.jsxs)(c.Z,{direction:"row",justifyContent:"space-evenly",alignItems:"center",width:"100%",children:[(0,A.jsx)(d.Z,{onClick:function(){O(e),B(!0)},color:"inherit",fullWidth:e.isDefault,variant:"text",size:"small",children:"Edit"}),!e.isDefault&&(0,A.jsx)(r.Z,{loading:P,onClick:function(){return t=e.id,R(!0),void g.Z.Profile.setDefaultAddress(t).then((function(e){var o=n.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{isDefault:e.id===t})}));S(o)})).catch((function(e){return console.log(e)})).finally((function(){return R(!1)}));var t},color:"inherit",variant:"text",size:"small",children:"Set Default"})]})]})]})},e.id)})),n.length<3&&(0,A.jsx)(u.ZP,{item:!0,xs:12,md:4,children:(0,A.jsx)(l.Z,{component:f.Z,height:"100%",minHeight:"140px",justifyContent:"center",alignItems:"center",display:"flex",elevation:0,sx:{p:3,borderRadius:4},children:(0,A.jsx)(d.Z,{variant:"text",color:"inherit",onClick:function(){O(null),B(!0)},children:"New Address"})})})]})]})}),(0,A.jsx)(p.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:H.addressForm,onClose:function(){return B(!1)},closeAfterTransition:!0,BackdropComponent:Z.Z,BackdropProps:{timeout:500},children:(0,A.jsx)(m.Z,{in:H.addressForm,children:(0,A.jsx)(f.Z,{sx:k,children:(0,A.jsx)(y.Z,{onSubmit:function(e){if(F){R(!0);var t=n.indexOf(F),o=n;o[t]=(0,i.Z)({},e),S(o),R(!1)}},onCancel:B,address:F})})})}),(0,A.jsx)(j.Z,{open:H.deleteDialog,title:"Delete Address",onClose:function(e){V(!1),e&&F&&(console.log("Deleting Address"),_(F.id))},body:"Are you sure you want to delete this element?"})]})}},63515:function(e,t,n){n.d(t,{Z:function(){return D}});var i,o=n(4942),r=n(63366),l=n(87462),a=n(72791),s=(n(52007),n(28182)),c=n(90767),d=n(12065),u=n(47630),f=n(31402),h=n(14036),x=n(4841),p=n(46131),Z=n(90977),m=n(74223),v=n(80184),g=(0,m.Z)((0,v.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),j=(0,m.Z)((0,v.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),y=(0,m.Z)((0,v.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=(0,m.Z)((0,v.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),b=n(8799),A=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],k=(0,u.ZP)(x.Z,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,h.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,i="light"===t.palette.mode?d._j:d.$n,r="light"===t.palette.mode?d.$n:d._j,a=n.color||n.severity;return(0,l.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===n.variant&&(0,o.Z)({color:i(t.palette[a].light,.6),backgroundColor:r(t.palette[a].light,.9)},"& .".concat(p.Z.icon),{color:"dark"===t.palette.mode?t.palette[a].main:t.palette[a].light}),a&&"outlined"===n.variant&&(0,o.Z)({color:i(t.palette[a].light,.6),border:"1px solid ".concat(t.palette[a].light)},"& .".concat(p.Z.icon),{color:"dark"===t.palette.mode?t.palette[a].main:t.palette[a].light}),a&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main})})),S=(0,u.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),M=(0,u.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),w=(0,u.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),z={success:(0,v.jsx)(g,{fontSize:"inherit"}),warning:(0,v.jsx)(j,{fontSize:"inherit"}),error:(0,v.jsx)(y,{fontSize:"inherit"}),info:(0,v.jsx)(C,{fontSize:"inherit"})},D=a.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiAlert"}),o=n.action,a=n.children,d=n.className,u=n.closeText,x=void 0===u?"Close":u,m=n.color,g=n.icon,j=n.iconMapping,y=void 0===j?z:j,C=n.onClose,D=n.role,L=void 0===D?"alert":D,P=n.severity,R=void 0===P?"success":P,I=n.variant,N=void 0===I?"standard":I,H=(0,r.Z)(n,A),W=(0,l.Z)({},n,{color:m,severity:R,variant:N}),T=function(e){var t=e.variant,n=e.color,i=e.severity,o=e.classes,r={root:["root","".concat(t).concat((0,h.Z)(n||i)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,c.Z)(r,p.t,o)}(W);return(0,v.jsxs)(k,(0,l.Z)({role:L,elevation:0,ownerState:W,className:(0,s.Z)(T.root,d),ref:t},H,{children:[!1!==g?(0,v.jsx)(S,{ownerState:W,className:T.icon,children:g||y[R]||z[R]}):null,(0,v.jsx)(M,{ownerState:W,className:T.message,children:a}),null!=o?(0,v.jsx)(w,{className:T.action,children:o}):null,null==o&&C?(0,v.jsx)(w,{ownerState:W,className:T.action,children:(0,v.jsx)(Z.Z,{size:"small","aria-label":x,title:x,color:"inherit",onClick:C,children:i||(i=(0,v.jsx)(b.Z,{fontSize:"small"}))})}):null]}))}))},46131:function(e,t,n){n.d(t,{t:function(){return o}});var i=n(95159);function o(e){return(0,i.Z)("MuiAlert",e)}var r=(0,n(30208).Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);t.Z=r},8799:function(e,t,n){n(72791);var i=n(74223),o=n(80184);t.Z=(0,i.Z)((0,o.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")}}]);
//# sourceMappingURL=15.da5ac0a2.chunk.js.map
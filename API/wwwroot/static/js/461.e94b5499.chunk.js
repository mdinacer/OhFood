"use strict";(self.webpackChunkoh_food=self.webpackChunkoh_food||[]).push([[461],{18009:function(n,e,t){t.d(e,{Z:function(){return f}});var i=t(1413),r=t(72791),o=t(5849),s=t(5574),a=t(77386),c=t(4899),d=t(31701),l=t(65661),u=t(55931),x=t(80184),h=r.forwardRef((function(n,e){return(0,x.jsx)(u.Z,(0,i.Z)({direction:"up",ref:e},n))}));function f(n){var e=n.open,t=n.title,i=n.body,r=n.okText,u=void 0===r?"Ok":r,f=n.cancelText,p=void 0===f?"Cancel":f,Z=n.onClose;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(s.Z,{open:e,TransitionComponent:h,keepMounted:!0,onClose:Z,"aria-describedby":"alert-dialog-slide-description",children:[(0,x.jsx)(l.Z,{children:t}),(0,x.jsx)(c.Z,{children:(0,x.jsx)(d.Z,{id:"alert-dialog-slide-description",children:i})}),(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(o.Z,{size:"small",variant:"outlined",onClick:function(){return Z(!1)},children:p}),(0,x.jsx)(o.Z,{size:"small",variant:"contained",onClick:function(){return Z(!0)},children:u})]})]})})}},91252:function(n,e,t){t.d(e,{Z:function(){return d}});var i=t(29439),r=t(4567),o=t(11703),s=t(52791),a=t(72791),c=t(80184);function d(n){var e=n.metaData,t=n.onPageChange,d=e.currentPage,l=e.totalCount,u=e.totalPages,x=e.pageSize,h=(0,a.useState)(d),f=(0,i.Z)(h,2),p=f[0],Z=f[1];return(0,c.jsxs)(s.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",sx:{flexDirection:{xs:"column",md:"row"},my:3},children:[(0,c.jsxs)(r.Z,{variant:"body2",gutterBottom:!0,children:["Showing ",(d-1)*x+1," to ",d*x>l?l:d*x," of ",l," items"]}),e&&e.totalPages>1&&(0,c.jsx)(o.Z,{sx:{flexWrap:"nowrap",mb:{xs:7,md:1},mt:{xs:2,md:0}},color:"primary",size:"medium",count:u,page:p,defaultPage:1,siblingCount:1,onChange:function(n,e){return function(n){Z(n),t(n)}(e)}})]})}},73687:function(n,e,t){t.d(e,{Z:function(){return s}});var i=t(36474),r=t(72791),o=t(14230);function s(){var n=(0,i.CG)(o.pV.selectAll),e=(0,i.CG)((function(n){return n.order})),t=e.ordersLoaded,s=e.metaData,a=(0,i.TL)();return(0,r.useEffect)((function(){t||a((0,o.X6)())}),[a,t]),{orders:n,ordersLoaded:t,metaData:s}}},21461:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var i=t(11413),r=t(4708),o=t(68870),s=t(10266),a=t(53767),c=t(4567),d=t(5849),l=t(43504),u=t(76595),x=t(29439),h=t(81153),f=t(4841),p=t(94721),Z=t(76090),m=t(43236),j=t(52411),g=t(72791),v=t(30260),y=t(36474),w=t(73687),C=t(68181),b=t(91252),E=t(14230),z=t(92675),P=t(29834),S=t(74223),D=t(80184),k=(0,S.Z)((0,D.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"}),"ExpandLessOutlined"),I=t(40747),L=t(79384),A=t(94446),M=t(18009);function T(n){var e=n.isAdmin,t=(0,y.TL)(),i=(0,g.useState)(!1),r=(0,x.Z)(i,2),d=r[0],l=r[1],u=(0,g.useState)(0),S=(0,x.Z)(u,2),T=S[0],R=S[1],O=(0,w.Z)(),H=O.orders,W=O.ordersLoaded,N=O.metaData,V=(0,g.useState)({id:null}),F=(0,x.Z)(V,2),q=F[0],B=F[1],G=(0,g.useState)(!1),$=(0,x.Z)(G,2),_=$[0],U=$[1],X=(0,g.useState)(null),Y=(0,x.Z)(X,2),J=Y[0],K=Y[1],Q=function(n){K({id:n,action:"Cancelled"}),U(!0)};function nn(n,e){l(!0),R(n),v.Z.Orders.updateStatus(n,e).then((function(i){t((0,E.Cs)({id:n,changes:{status:e}}))})).catch((function(n){return console.log(n)})).finally((function(){return l(!1)}))}var en=function(n){return B({id:q.id===n?null:n})},tn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading";return(0,D.jsx)(o.Z,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:(0,D.jsx)(c.Z,{variant:"caption",children:n})})};return(0,D.jsxs)(o.Z,{sx:{overflow:"auto",py:3},children:[!W&&tn("Loading Orders"),W&&0===H.length&&tn("Your orders list is empty."),H.length>0&&(0,D.jsxs)(h.ZP,{container:!0,spacing:3,children:[H.map((function(n){return(0,D.jsx)(h.ZP,{item:!0,xs:12,children:(0,D.jsx)(f.Z,{sx:{py:3,height:"100%"},children:(0,D.jsx)(s.Z,{children:(0,D.jsxs)(h.ZP,{container:!0,spacing:1,children:[(0,D.jsx)(h.ZP,{item:!0,md:3,xs:12,children:(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.Z,{variant:"caption",children:"Order Date"}),(0,D.jsx)(c.Z,{variant:"body1",children:(0,C.Z)(new Date(n.orderDate),"dd/MM/yy HH:mm")})]})}),(0,D.jsx)(h.ZP,{item:!0,md:5,xs:12,children:(0,D.jsxs)(a.Z,{children:[(0,D.jsx)(c.Z,{variant:"caption",children:"Delivery Address"}),(0,D.jsxs)(c.Z,{variant:"body1",children:[n.shippingAddress.address1," - ",n.shippingAddress.city]})]})}),(0,D.jsxs)(h.ZP,{item:!0,md:2,xs:6,children:[(0,D.jsx)(c.Z,{variant:"caption",children:"Order Status"}),(0,D.jsx)(c.Z,{variant:"body1",children:n.status})]}),(0,D.jsxs)(h.ZP,{item:!0,md:2,xs:6,display:"flex",justifyContent:"flex-end",flexDirection:"column",children:[(0,D.jsx)(c.Z,{variant:"caption",textAlign:"right",children:"Total"}),(0,D.jsx)(c.Z,{textAlign:"right",variant:"body1",children:(0,z.O)(n.subtotal,"$")})]}),(0,D.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,D.jsx)(p.Z,{}),e?(0,D.jsxs)(a.Z,{sx:{mt:1},direction:"row",justifyContent:"space-evenly",flexWrap:"wrap",children:[(0,D.jsx)(A.Z,{size:"small",color:"inherit",onClick:function(){return en(n.id)},startIcon:q.id!==n.id?(0,D.jsx)(P.Z,{fontSize:"large",color:"primary"}):(0,D.jsx)(k,{fontSize:"large",color:"inherit"}),children:"View"}),(0,D.jsx)(A.Z,{onClick:function(){return nn(n.id,"Confirmed")},loading:d&&T===n.id,size:"small",color:"success",startIcon:(0,D.jsx)(I.Z,{}),children:"Confirm"}),"Pending"===n.status&&(0,D.jsx)(A.Z,{onClick:function(){return Q(n.id)},loading:d&&T===n.id,size:"small",startIcon:(0,D.jsx)(L.Z,{}),color:"error",children:"Cancel"})]}):(0,D.jsxs)(a.Z,{sx:{mt:1,justifyContent:{xs:"space-evenly",md:"space-between"}},direction:"row",children:[(0,D.jsx)(A.Z,{color:"inherit",startIcon:q.id!==n.id?(0,D.jsx)(P.Z,{fontSize:"large",color:"primary"}):(0,D.jsx)(k,{fontSize:"large",color:"inherit"}),onClick:function(){return en(n.id)},children:"View Items"}),"Pending"===n.status&&(0,D.jsx)(A.Z,{onClick:function(){return Q(n.id)},loading:d&&T===n.id,startIcon:(0,D.jsx)(L.Z,{}),color:"error",children:"Cancel"})]})]}),(0,D.jsx)(h.ZP,{item:!0,xs:12,children:(0,D.jsxs)(Z.Z,{in:q.id===n.id,children:[(0,D.jsx)(p.Z,{}),(0,D.jsx)(m.Z,{dense:!0,sx:{my:1},children:n.items.map((function(n){return(0,D.jsx)(j.ZP,{children:(0,D.jsxs)(h.ZP,{container:!0,children:[(0,D.jsx)(h.ZP,{item:!0,xs:8,children:(0,D.jsx)(c.Z,{variant:"body1",children:n.name})}),(0,D.jsxs)(h.ZP,{item:!0,xs:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",children:[(0,D.jsx)(c.Z,{variant:"body2",children:"x "}),(0,D.jsx)(c.Z,{variant:"body1",children:n.quantity})]}),(0,D.jsx)(h.ZP,{item:!0,xs:2,children:(0,D.jsx)(c.Z,{variant:"body1",textAlign:"right",children:(0,z.O)(n.price*n.quantity,"$")})})]})},n.productId)}))})]})})]})})})},n.id)})),(0,D.jsx)(h.ZP,{item:!0,xs:12,children:N&&(0,D.jsx)(b.Z,{metaData:N,onPageChange:function(n){return t((0,E.oW)({pageNumber:n}))}})})]}),(0,D.jsx)(M.Z,{open:_,title:"Cancel Order",onClose:function(n){n&&J&&nn(J.id,J.action),U(!1)},body:"Are you sure you want to cancel this order?"})]})}function R(){return(0,D.jsxs)(i.Z,{theme:u.ib,children:[(0,D.jsx)(r.ZP,{}),(0,D.jsx)(o.Z,{sx:{height:"100%",width:"100%",backgroundColor:"#EEEEEE",minHeight:"100Vh",color:"black"},children:(0,D.jsxs)(s.Z,{sx:{py:{md:5,xs:2},pt:{md:10,xs:2}},children:[(0,D.jsxs)(a.Z,{sx:{width:"100%",pb:4},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,D.jsx)(c.Z,{variant:"h4",component:"h1",sx:{textTransform:"uppercase"},children:"Orders"}),(0,D.jsx)(d.Z,{variant:"text",color:"inherit",size:"small",component:l.rU,to:"/profile",children:"Back to profile"})]}),(0,D.jsx)(T,{isAdmin:!1})]})})]})}},79384:function(n,e,t){var i=t(74223),r=t(80184);e.Z=(0,i.Z)((0,r.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12zm8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8z"}),"DoDisturb")},29834:function(n,e,t){var i=t(74223),r=t(80184);e.Z=(0,i.Z)((0,r.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}),"ExpandMoreOutlined")},40747:function(n,e,t){var i=t(74223),r=t(80184);e.Z=(0,i.Z)((0,r.jsx)("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm6 9.8a.9.9 0 0 1-.1.5l-2.1 4.9a1.34 1.34 0 0 1-1.3.8H9a2 2 0 0 1-2-2v-5a1.28 1.28 0 0 1 .4-1L12 5l.69.69a1.08 1.08 0 0 1 .3.7v.2L12.41 10H17a1 1 0 0 1 1 1z"}),"Recommend")},76090:function(n,e,t){var i=t(4942),r=t(63366),o=t(87462),s=t(72791),a=t(28182),c=(t(52007),t(18875)),d=t(90767),l=t(47630),u=t(31402),x=t(81314),h=t(4999),f=t(13967),p=t(42071),Z=t(98751),m=t(80184),j=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],g=(0,l.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e[t.orientation],"entered"===t.state&&e.entered,"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&e.hidden]}})((function(n){var e=n.theme,t=n.ownerState;return(0,o.Z)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,o.Z)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"})})),v=(0,l.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(n,e){return e.wrapper}})((function(n){var e=n.ownerState;return(0,o.Z)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})})),y=(0,l.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(n,e){return e.wrapperInner}})((function(n){var e=n.ownerState;return(0,o.Z)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})})),w=s.forwardRef((function(n,e){var t=(0,u.Z)({props:n,name:"MuiCollapse"}),l=t.addEndListener,w=t.children,C=t.className,b=t.collapsedSize,E=void 0===b?"0px":b,z=t.component,P=t.easing,S=t.in,D=t.onEnter,k=t.onEntered,I=t.onEntering,L=t.onExit,A=t.onExited,M=t.onExiting,T=t.orientation,R=void 0===T?"vertical":T,O=t.style,H=t.timeout,W=void 0===H?x.x9.standard:H,N=t.TransitionComponent,V=void 0===N?c.ZP:N,F=(0,r.Z)(t,j),q=(0,o.Z)({},t,{orientation:R,collapsedSize:E}),B=function(n){var e=n.orientation,t=n.classes,i={root:["root","".concat(e)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(e)],wrapperInner:["wrapperInner","".concat(e)]};return(0,d.Z)(i,Z.d,t)}(q),G=(0,f.Z)(),$=s.useRef(),_=s.useRef(null),U=s.useRef(),X="number"===typeof E?"".concat(E,"px"):E,Y="horizontal"===R,J=Y?"width":"height";s.useEffect((function(){return function(){clearTimeout($.current)}}),[]);var K=s.useRef(null),Q=(0,p.Z)(e,K),nn=function(n){return function(e){if(n){var t=K.current;void 0===e?n(t):n(t,e)}}},en=function(){return _.current?_.current[Y?"clientWidth":"clientHeight"]:0},tn=nn((function(n,e){_.current&&Y&&(_.current.style.position="absolute"),n.style[J]=X,D&&D(n,e)})),rn=nn((function(n,e){var t=en();_.current&&Y&&(_.current.style.position="");var i=(0,h.C)({style:O,timeout:W,easing:P},{mode:"enter"}),r=i.duration,o=i.easing;if("auto"===W){var s=G.transitions.getAutoHeightDuration(t);n.style.transitionDuration="".concat(s,"ms"),U.current=s}else n.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");n.style[J]="".concat(t,"px"),n.style.transitionTimingFunction=o,I&&I(n,e)})),on=nn((function(n,e){n.style[J]="auto",k&&k(n,e)})),sn=nn((function(n){n.style[J]="".concat(en(),"px"),L&&L(n)})),an=nn(A),cn=nn((function(n){var e=en(),t=(0,h.C)({style:O,timeout:W,easing:P},{mode:"exit"}),i=t.duration,r=t.easing;if("auto"===W){var o=G.transitions.getAutoHeightDuration(e);n.style.transitionDuration="".concat(o,"ms"),U.current=o}else n.style.transitionDuration="string"===typeof i?i:"".concat(i,"ms");n.style[J]=X,n.style.transitionTimingFunction=r,M&&M(n)}));return(0,m.jsx)(V,(0,o.Z)({in:S,onEnter:tn,onEntered:on,onEntering:rn,onExit:sn,onExited:an,onExiting:cn,addEndListener:function(n){"auto"===W&&($.current=setTimeout(n,U.current||0)),l&&l(K.current,n)},nodeRef:K,timeout:"auto"===W?null:W},F,{children:function(n,e){return(0,m.jsx)(g,(0,o.Z)({as:z,className:(0,a.Z)(B.root,C,{entered:B.entered,exited:!S&&"0px"===X&&B.hidden}[n]),style:(0,o.Z)((0,i.Z)({},Y?"minWidth":"minHeight",X),O),ownerState:(0,o.Z)({},q,{state:n}),ref:Q},e,{children:(0,m.jsx)(v,{ownerState:(0,o.Z)({},q,{state:n}),className:B.wrapper,ref:_,children:(0,m.jsx)(y,{ownerState:(0,o.Z)({},q,{state:n}),className:B.wrapperInner,children:w})})}))}}))}));w.muiSupportAuto=!0,e.Z=w},98751:function(n,e,t){t.d(e,{d:function(){return r}});var i=t(95159);function r(n){return(0,i.Z)("MuiCollapse",n)}var o=(0,t(30208).Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);e.Z=o}}]);
//# sourceMappingURL=461.e94b5499.chunk.js.map
{"version":3,"file":"static/js/411.d5601564.chunk.js","mappings":"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","sources":["app/components/AppTextInput.tsx","app/components/AppCheckbox.tsx","features/checkout/AddressForm.tsx","features/checkout/Review.tsx","features/checkout/checkoutValidation.ts","features/checkout/CheckoutPage.tsx"],"sourcesContent":["import { TextField } from \"@mui/material\";\nimport { useController, UseControllerProps } from \"react-hook-form\";\n\ninterface Props extends UseControllerProps {\n    label: string;\n    multiline?: boolean;\n    rows?: number;\n    type?: string;\n}\n\nexport default function AppTextInput(props: Props) {\n    const {fieldState, field} = useController({...props, defaultValue: ''})\n    return (\n        <TextField \n            {...props}\n            {...field}\n            multiline={props.multiline}\n            rows={props.rows}\n            type={props.type}\n            fullWidth\n            variant='outlined'\n            error={!!fieldState.error}\n            helperText={fieldState.error?.message}\n        />\n    )\n}","import { Checkbox, FormControlLabel } from \"@mui/material\";\nimport { useController, UseControllerProps } from \"react-hook-form\"\n\ninterface Props extends UseControllerProps {\n    label: string;\n    disabled: boolean;\n}\n\nexport default function AppCheckbox(props: Props) {\n    const {field} = useController({...props, defaultValue: false});\n    return (\n        <FormControlLabel \n            control={\n                <Checkbox \n                    {...field}\n                    checked={field.value}\n                    color='secondary'\n                    disabled={props.disabled}\n                />\n            }\n            label={props.label}\n        />\n    )\n}","import Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport { useFormContext } from 'react-hook-form';\nimport AppTextInput from '../../app/components/AppTextInput';\nimport AppCheckbox from '../../app/components/AppCheckbox';\nimport { Box } from \"@mui/material\";\n\nexport default function AddressForm() {\n    const { control, formState } = useFormContext();\n    return (\n        <Box maxWidth={800} sx={{ mx: \"auto\" }}>\n            <Typography variant=\"h6\" sx={{ mb: 3 }}>\n                Shipping address\n            </Typography>\n            <Grid container spacing={3}>\n                <Grid item xs={12} sm={12}>\n                    <AppTextInput control={control} name='fullName' label='Full name' />\n                </Grid>\n                <Grid item xs={12} md={8}>\n                    <AppTextInput control={control} name='address1' label='Address' />\n                </Grid>\n\n                <Grid item xs={12} sm={6} md={4}>\n                    <AppTextInput control={control} name='city' label='City' />\n                </Grid>\n\n                <Grid item xs={12}>\n                    <AppCheckbox\n                        disabled={!formState.isDirty}\n                        name='saveAddress'\n                        label='Save as the default address'\n                        control={control}\n                    />\n                </Grid>\n            </Grid>\n        </Box>\n    );\n}","import {\n  Box,\n  Container,\n  Divider,\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  Stack,\n} from \"@mui/material\";\nimport Typography from \"@mui/material/Typography\";\nimport { useAppDispatch, useAppSelector } from \"../../app/store/configureStore\";\nimport React from \"react\";\nimport { currencyFormat } from \"../../app/util/util\";\nimport QuantityStepper from \"../../app/components/QuantityStepper\";\nimport {\n  addBasketItemAsync,\n  removeBasketItemAsync,\n} from \"../../app/slices/basketSlice\";\n\nexport default function Review() {\n  const { basket, status } = useAppSelector((state) => state.basket);\n  const subtotal =\n    basket?.items.reduce((sum, item) => sum + item.quantity * item.price, 0) ??\n    0;\n  const dispatch = useAppDispatch();\n  return (\n    <>\n      <Typography variant=\"h6\" gutterBottom>\n        Order summary\n      </Typography>\n      {basket && (\n        <List>\n          {basket.items.map((item) => (\n            <ListItem key={item.productId} sx={{ mb: 0 }}>\n              <Grid container spacing={2} rowSpacing={0}>\n                <Grid\n                  md={2}\n                  xs={0}\n                  item\n                  sx={{ overflow: \"hidden\" }}\n                  display={\"flex\"}\n                  alignItems={\"center\"}\n                  justifyContent={\"center\"}\n                >\n                  <Box\n                    component={\"img\"}\n                    src={item.pictureUrl}\n                    alt={item.name}\n                    sx={{\n                      height: \"50px\",\n                      width: \"50px\",\n                      objectFit: \"contain\",\n                      objectPosition: \"center\",\n                    }}\n                  />\n                </Grid>\n\n                <Grid\n                  item\n                  md={5}\n                  xs={8}\n                  display={\"flex\"}\n                  alignItems={\"flex-start\"}\n                  justifyContent={\"center\"}\n                  flexDirection={\"column\"}\n                  columnGap={3}\n                >\n                  <Typography variant={\"caption\"}>{item.category}</Typography>\n                  <Typography variant={\"subtitle1\"}>{item.name}</Typography>\n                </Grid>\n\n                <Grid\n                  item\n                  md={3}\n                  xs={6}\n                  display={\"flex\"}\n                  alignItems={\"center\"}\n                  justifyContent={\"center\"}\n                >\n                  <QuantityStepper\n                    quantity={item.quantity}\n                    increase={() =>\n                      dispatch(\n                        addBasketItemAsync({ productId: item.productId })\n                      )\n                    }\n                    decrease={() =>\n                      dispatch(\n                        removeBasketItemAsync({\n                          productId: item.productId,\n                          quantity: 1,\n                          name: \"rem\",\n                        })\n                      )\n                    }\n                    isRow={true}\n                    minValue={1}\n                    loading={status.includes(\"pending\")}\n                  />\n                </Grid>\n\n                <Grid\n                  item\n                  md={2}\n                  xs={6}\n                  sx={{ overflow: \"hidden\" }}\n                  display={\"flex\"}\n                  alignItems={\"center\"}\n                  justifyContent={\"center\"}\n                >\n                  <Typography textAlign={\"center\"}>\n                    {currencyFormat(item.price * item.quantity, \"$\")}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </ListItem>\n          ))}\n        </List>\n      )}\n\n      <Divider />\n\n      <Grid container>\n        <Grid item md={6} xs={0} />\n        <Grid item xs={12} md={6}>\n          <Container>\n            <List dense>\n              <ListItem>\n                <Stack\n                  width={\"100%\"}\n                  direction={\"row\"}\n                  justifyContent={\"space-between\"}\n                  alignItems={\"center\"}\n                >\n                  <Typography variant=\"caption\">Subtotal</Typography>\n                  <Typography variant=\"subtitle1\">\n                    {currencyFormat(subtotal, \"$\")}\n                  </Typography>\n                </Stack>\n              </ListItem>\n              <ListItem>\n                <Stack\n                  width={\"100%\"}\n                  direction={\"row\"}\n                  justifyContent={\"space-between\"}\n                  alignItems={\"center\"}\n                >\n                  <Typography variant=\"caption\">Delivery Cost</Typography>\n                  <Typography variant=\"subtitle1\">\n                    {currencyFormat(30, \"$\")}\n                  </Typography>\n                </Stack>\n              </ListItem>\n              <ListItem>\n                <Stack\n                  width={\"100%\"}\n                  direction={\"row\"}\n                  justifyContent={\"space-between\"}\n                  alignItems={\"center\"}\n                >\n                  <Typography variant=\"caption\">Total</Typography>\n                  <Typography variant=\"subtitle1\">\n                    {currencyFormat(subtotal + 30, \"$\")}\n                  </Typography>\n                </Stack>\n              </ListItem>\n            </List>\n          </Container>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","import * as yup from 'yup';\n\nexport const AddressFormValidation = yup.object({\n    fullName: yup.string().required('Please enter your name'),\n    address1: yup.string().required('Please enter your address'),\n    city: yup.string().required(),\n\n})\n","import {\n  Box,\n  Button,\n  Container,\n  Paper,\n  Step,\n  StepLabel,\n  Stepper,\n  Typography,\n} from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { FieldValues, FormProvider, useForm } from \"react-hook-form\";\nimport AddressForm from \"./AddressForm\";\nimport Review from \"./Review\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { AddressFormValidation } from \"./checkoutValidation\";\nimport agent from \"../../app/api/agent\";\nimport { LoadingButton } from \"@mui/lab\";\nimport { useAppDispatch } from \"../../app/store/configureStore\";\nimport \"./CheckoutPage.scss\";\nimport { clearBasket } from \"../../app/slices/basketSlice\";\nimport { Link } from \"react-router-dom\";\n\nconst steps = [\"Address\", \"Review\", \"Receipt\"];\n\nexport default function CheckoutPage() {\n  const [activeStep, setActiveStep] = useState(0);\n  const [orderNumber, setOrderNumber] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const dispatch = useAppDispatch();\n\n  //const {basket} = useAppSelector(state => state.basket);\n\n  function getStepContent(step: number) {\n    switch (step) {\n      case 0:\n        return <AddressForm />;\n      case 1:\n        return <Review />;\n      case 2:\n        return (\n          <Box\n            width={\"100%\"}\n            height={\"100%\"}\n            display={\"flex\"}\n            justifyContent={\"center\"}\n            alignItems={\"center\"}\n          >\n            <Typography textAlign={\"center\"}>\n              You order has been sent, You will be notified on confirmation and\n              delivery.\n            </Typography>\n          </Box>\n        );\n\n      default:\n        throw new Error(\"Unknown step\");\n    }\n  }\n\n  const methods = useForm({\n    mode: \"all\",\n    resolver: yupResolver(AddressFormValidation),\n  });\n\n  useEffect(() => {\n    agent.Profile.fetchDefaultAddress().then((response) => {\n      if (response) {\n        methods.reset({\n          ...methods.getValues(),\n          ...response,\n          saveAddress: false,\n        });\n      }\n    });\n  }, [methods]);\n\n  async function submitOrder(data: FieldValues) {\n    setLoading(true);\n    const { saveAddress, ...shippingAddress } = data;\n\n    try {\n      const orderNumber = await agent.Orders.create({\n        saveAddress,\n        shippingAddress,\n      });\n      setOrderNumber(orderNumber);\n      setActiveStep(activeStep + 1);\n      dispatch(clearBasket());\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const handleNext = async (data: FieldValues) => {\n    if (activeStep === 1) {\n      await submitOrder(data);\n    } else {\n      setActiveStep(activeStep + 1);\n    }\n  };\n\n  const handleBack = () => {\n    setActiveStep(activeStep - 1);\n  };\n\n  function submitDisabled(): boolean {\n    return !methods.formState.isValid;\n  }\n\n  return (\n    <Box\n      className={\"payment\"}\n      sx={{ pb: { xs: 10, md: 1 }, pt: { xs: 1, md: 7 } }}\n    >\n      <Container>\n        <FormProvider {...methods}>\n          <Paper\n            variant=\"outlined\"\n            sx={{\n              maxWidth: 800,\n              my: { xs: 1, md: 6 },\n              mx: \"auto\",\n              p: { xs: 2, md: 3 },\n              backgroundColor: \"rgba(0,0,0,0.5)\",\n            }}\n          >\n            <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n              Order\n            </Typography>\n            <Stepper activeStep={activeStep} sx={{ pt: 3, pb: 5 }}>\n              {steps.map((label) => (\n                <Step key={label}>\n                  <StepLabel>{label}</StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n            <>\n              {activeStep === steps.length ? (\n                <>\n                  <Typography variant=\"subtitle1\">\n                    Your order number is #{orderNumber}. We have emailed your\n                    order confirmation, and will not send you an update when\n                    your order has shipped!\n                  </Typography>\n                </>\n              ) : (\n                <form onSubmit={methods.handleSubmit(handleNext)}>\n                  {getStepContent(activeStep)}\n                  <Box sx={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    {activeStep !== 0 && (\n                      <Button onClick={handleBack} sx={{ mt: 3, ml: 1 }}>\n                        Back\n                      </Button>\n                    )}\n                    {activeStep !== 2 ? (\n                      <LoadingButton\n                        loading={loading}\n                        disabled={submitDisabled()}\n                        variant=\"contained\"\n                        type=\"submit\"\n                        sx={{ mt: 3, ml: 1 }}\n                      >\n                        {activeStep === 1 ? \"Place order\" : \"Next\"}\n                      </LoadingButton>\n                    ) : (\n                      <Button\n                        variant=\"contained\"\n                        sx={{ mt: 3, ml: 1 }}\n                        component={Link}\n                        to={\"/\"}\n                      >\n                        Home\n                      </Button>\n                    )}\n                  </Box>\n                </form>\n              )}\n            </>\n          </Paper>\n        </FormProvider>\n      </Container>\n    </Box>\n  );\n}\n"],"names":["AppTextInput","props","useController","defaultValue","fieldState","field","TextField","multiline","rows","type","fullWidth","variant","error","helperText","message","AppCheckbox","FormControlLabel","control","Checkbox","checked","value","color","disabled","label","AddressForm","useFormContext","formState","Box","maxWidth","sx","mx","Typography","mb","Grid","container","spacing","item","xs","sm","name","md","isDirty","Review","useAppSelector","state","basket","status","subtotal","items","reduce","sum","quantity","price","dispatch","useAppDispatch","gutterBottom","List","map","ListItem","rowSpacing","overflow","display","alignItems","justifyContent","component","src","pictureUrl","alt","height","width","objectFit","objectPosition","flexDirection","columnGap","category","QuantityStepper","increase","addBasketItemAsync","productId","decrease","removeBasketItemAsync","isRow","minValue","loading","includes","textAlign","currencyFormat","Divider","Container","dense","Stack","direction","AddressFormValidation","yup","fullName","required","address1","city","steps","CheckoutPage","useState","activeStep","setActiveStep","orderNumber","setOrderNumber","setLoading","methods","useForm","mode","resolver","yupResolver","submitOrder","data","saveAddress","shippingAddress","agent","clearBasket","console","log","useEffect","then","response","reset","getValues","handleNext","className","pb","pt","Paper","my","p","backgroundColor","align","Stepper","Step","StepLabel","length","onSubmit","handleSubmit","step","Error","getStepContent","Button","onClick","mt","ml","LoadingButton","isValid","Link","to"],"sourceRoot":""}